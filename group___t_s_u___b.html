<!-- HTML header for doxygen 1.8.7-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<title>RZG Flexible Software Package Documentation: Temperature Sensor Unit (r_tsu_b)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
    <script type="text/javascript" src="search/lunr.js"></script>
    <link href="search/lunrsearch.css" rel="stylesheet" type="text/css">
    <script src="search/lunr_index.js"></script>
    <script src="search/lunrclient.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="fsp_customdoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo_scaled.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">RZG Flexible Software Package Documentation
   &#160;<span id="projectnumber">Release v3.1.0</span>
   </div>
  </td>
   <td>        <br /><div id="MSearchBox" class="MSearchBoxInactive">
 
    <form id="lunrSearchForm" name="lunrSearchForm">
      <span class="left" >
          <img id="MSearchSelect" src="search/mag_sel.png"
               alt=""/>
         <input class="search-input" id="MSearchField" name="q" placeholder="Search" type="text"> 
      </span>
      <span class="right">
          &nbsp; 
      </span>
        <!--<input type="submit" value="Search">-->
    </form>
</div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___t_s_u___b.html','');});
</script>

<script src="search/mark.min.js"></script>
<script type="text/javascript">
  $(document).ready(function() { 
    var options = {         // allows highlighting across element boundaries.
      "acrossElements": true
    };
    var bodyText = $("div.contents").text(); // try contents instead of body. 
    // If using body: Problem may be that text inside <script> tags is included in .text() - but not in cheerio?
    // If using div.contents - works 
    var fullURL = $(location).attr('href');
    var splitURL = fullURL.split("?");  // Get param string: content after "?" in URL
    if (splitURL.length > 1) {          // If any content after "?"
      var paramStr = splitURL[1];
      var params = paramStr.split("&"); // Split params on "&"
      for (i = 0; i < params.length; i++) {
        var paramPair = params[i].split("=");
        if (paramPair[0] == "pos") {     // If any param starts "pos", get the content after "="
          posStr = paramPair[1];
          var splitPos = posStr.split(",");
          var termArray = [];
        // termArray will have the search terms
            for (i=0; i < splitPos.length; i += 2) {
            start = splitPos[i];
            len = splitPos[i+1]; // Needs error detection! Vulnerable if non-even # of pos entries
            term = bodyText.substr(start,len);
            if (termArray.includes(term) == false) {     // List all unique terms
                termArray.push(bodyText.substr(start,len)); 
            }
          } 
    //      console.log(termArray);
          var context = document.querySelector("div.contents");
          var instance = new Mark(context);
          for(i=0;i<termArray.length; i+=1) {
            instance.mark(termArray[i],options);  // Use Mark.js to mark all terms in termArray
            }    
          var firstMark = document.querySelector("mark");
          firstMark.scrollIntoView(true);
          //      console.log($("mark").first().text()); // Trying to scroll to first Mark element. 
        }
            }
    }
  });
</script>

<link href="fsp_customdoxygen.css" rel="stylesheet" type="text/css" />

<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


<!-- Lunr search results -->
<div id="lunrResultBox" style="
        position: fixed;
        border: 1px solid black;
        background-color: WhiteSmoke;  
        padding: 10px;
        width: 500px;
        height: 500px;
        top: 30;
        right: 0;
        overflow: auto;
        display: none">
    <button onclick="closeLunrResults()" style="float: right;">X</button>
    <div class="resultCount" id="resultCount"></div>
    <div id="searchResults"></div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#enum-members">Enumerations</a>  </div>
  <div class="headertitle">
<div class="title">Temperature Sensor Unit (r_tsu_b)<div class="ingroups"><a class="el" href="group___r_e_n_e_s_a_s___m_o_d_u_l_e_s.html">Modules</a> &raquo; <a class="el" href="group___r_e_n_e_s_a_s___s_e_n_s_o_r___m_o_d_u_l_e_s.html">Sensor</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga97e39892fa51e09d3809f600781f3b98"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___t_s_u___b.html#ga97e39892fa51e09d3809f600781f3b98">R_TSU_B_Open</a> (<a class="el" href="group___a_d_c___a_p_i.html#gaff9488cd90102a90e5c5cbd45394d426">adc_ctrl_t</a> *p_ctrl, <a class="el" href="group___a_d_c___a_p_i.html#structadc__cfg__t">adc_cfg_t</a> const *const p_cfg)</td></tr>
<tr class="separator:ga97e39892fa51e09d3809f600781f3b98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga978c60f17aa8a2184140272e7588474e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___t_s_u___b.html#ga978c60f17aa8a2184140272e7588474e">R_TSU_B_ScanCfg</a> (<a class="el" href="group___a_d_c___a_p_i.html#gaff9488cd90102a90e5c5cbd45394d426">adc_ctrl_t</a> *p_ctrl, void const *const p_channel_cfg)</td></tr>
<tr class="separator:ga978c60f17aa8a2184140272e7588474e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga39f1ed741b28eab45f1712935f3883e4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___t_s_u___b.html#ga39f1ed741b28eab45f1712935f3883e4">R_TSU_B_ScanStart</a> (<a class="el" href="group___a_d_c___a_p_i.html#gaff9488cd90102a90e5c5cbd45394d426">adc_ctrl_t</a> *p_ctrl)</td></tr>
<tr class="separator:ga39f1ed741b28eab45f1712935f3883e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaef9ec32a8de4e4286e10f0c87efd450d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___t_s_u___b.html#gaef9ec32a8de4e4286e10f0c87efd450d">R_TSU_B_ScanGroupStart</a> (<a class="el" href="group___a_d_c___a_p_i.html#gaff9488cd90102a90e5c5cbd45394d426">adc_ctrl_t</a> *p_ctrl, <a class="el" href="group___a_d_c___a_p_i.html#gaee17c30275c1c9376cc485a62ea121eb">adc_group_mask_t</a> group_id)</td></tr>
<tr class="separator:gaef9ec32a8de4e4286e10f0c87efd450d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga874a931c003bbe50ad12e6da4d87143f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___t_s_u___b.html#ga874a931c003bbe50ad12e6da4d87143f">R_TSU_B_ScanStop</a> (<a class="el" href="group___a_d_c___a_p_i.html#gaff9488cd90102a90e5c5cbd45394d426">adc_ctrl_t</a> *p_ctrl)</td></tr>
<tr class="separator:ga874a931c003bbe50ad12e6da4d87143f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga15204e44f60f3f948c5b13983635742b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___t_s_u___b.html#ga15204e44f60f3f948c5b13983635742b">R_TSU_B_StatusGet</a> (<a class="el" href="group___a_d_c___a_p_i.html#gaff9488cd90102a90e5c5cbd45394d426">adc_ctrl_t</a> *p_ctrl, <a class="el" href="group___a_d_c___a_p_i.html#structadc__status__t">adc_status_t</a> *p_status)</td></tr>
<tr class="separator:ga15204e44f60f3f948c5b13983635742b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gada13a2179de16db6073f307afae1e612"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___t_s_u___b.html#gada13a2179de16db6073f307afae1e612">R_TSU_B_Read</a> (<a class="el" href="group___a_d_c___a_p_i.html#gaff9488cd90102a90e5c5cbd45394d426">adc_ctrl_t</a> *p_ctrl, <a class="el" href="group___a_d_c___a_p_i.html#gaafc4060027875f8fe46242b0656d7814">adc_channel_t</a> const reg_id, uint16_t *const p_data)</td></tr>
<tr class="separator:gada13a2179de16db6073f307afae1e612"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1b591622c668393be2a471acb5af0a09"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___t_s_u___b.html#ga1b591622c668393be2a471acb5af0a09">R_TSU_B_Read32</a> (<a class="el" href="group___a_d_c___a_p_i.html#gaff9488cd90102a90e5c5cbd45394d426">adc_ctrl_t</a> *p_ctrl, <a class="el" href="group___a_d_c___a_p_i.html#gaafc4060027875f8fe46242b0656d7814">adc_channel_t</a> const reg_id, uint32_t *const p_data)</td></tr>
<tr class="separator:ga1b591622c668393be2a471acb5af0a09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab85e848ca49caaa929dd77dc8921e29f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___t_s_u___b.html#gab85e848ca49caaa929dd77dc8921e29f">R_TSU_B_Close</a> (<a class="el" href="group___a_d_c___a_p_i.html#gaff9488cd90102a90e5c5cbd45394d426">adc_ctrl_t</a> *p_ctrl)</td></tr>
<tr class="separator:gab85e848ca49caaa929dd77dc8921e29f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5e8b4241a1e5e499da79c839aad0628e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___t_s_u___b.html#ga5e8b4241a1e5e499da79c839aad0628e">R_TSU_B_InfoGet</a> (<a class="el" href="group___a_d_c___a_p_i.html#gaff9488cd90102a90e5c5cbd45394d426">adc_ctrl_t</a> *p_ctrl, <a class="el" href="group___a_d_c___a_p_i.html#structadc__info__t">adc_info_t</a> *p_adc_info)</td></tr>
<tr class="separator:ga5e8b4241a1e5e499da79c839aad0628e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga11361111b88fa7e72cb9014d440c3ff1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___t_s_u___b.html#ga11361111b88fa7e72cb9014d440c3ff1">R_TSU_B_Calibrate</a> (<a class="el" href="group___a_d_c___a_p_i.html#gaff9488cd90102a90e5c5cbd45394d426">adc_ctrl_t</a> *const p_ctrl, void const *p_extend)</td></tr>
<tr class="separator:ga11361111b88fa7e72cb9014d440c3ff1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac01f0a25e022187d5a10913234c6dd8e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___t_s_u___b.html#gac01f0a25e022187d5a10913234c6dd8e">R_TSU_B_OffsetSet</a> (<a class="el" href="group___a_d_c___a_p_i.html#gaff9488cd90102a90e5c5cbd45394d426">adc_ctrl_t</a> *const p_ctrl, <a class="el" href="group___a_d_c___a_p_i.html#gaafc4060027875f8fe46242b0656d7814">adc_channel_t</a> const reg_id, int32_t offset)</td></tr>
<tr class="separator:gac01f0a25e022187d5a10913234c6dd8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabfa2e53113bbd7e12dea5dabf227903c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___t_s_u___b.html#gabfa2e53113bbd7e12dea5dabf227903c">R_TSU_B_CallbackSet</a> (<a class="el" href="group___a_d_c___a_p_i.html#gaff9488cd90102a90e5c5cbd45394d426">adc_ctrl_t</a> *const p_api_ctrl, void(*p_callback)(<a class="el" href="group___a_d_c___a_p_i.html#structadc__callback__args__t">adc_callback_args_t</a> *), void const *const p_context, <a class="el" href="group___a_d_c___a_p_i.html#structadc__callback__args__t">adc_callback_args_t</a> *const p_callback_memory)</td></tr>
<tr class="separator:gabfa2e53113bbd7e12dea5dabf227903c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7b164d0defb1b364c993b138a3ca0524"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___t_s_u___b.html#ga7b164d0defb1b364c993b138a3ca0524">R_TSU_B_CalculateTemperature</a> (<a class="el" href="group___a_d_c___a_p_i.html#gaff9488cd90102a90e5c5cbd45394d426">adc_ctrl_t</a> *p_ctrl, uint16_t temperature_code, float *const p_temperature)</td></tr>
<tr class="separator:ga7b164d0defb1b364c993b138a3ca0524"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Driver for the TSU peripheral on RZ MPUs. This module implements the <a class="el" href="group___a_d_c___a_p_i.html">ADC Interface</a>. </p>
<h1><a class="anchor" id="r-tsu-b-overview"></a>
Overview</h1>
<h2><a class="anchor" id="r-tsu-b-features"></a>
Features</h2>
<p>The TSU module supports the following features:</p>
<ul>
<li>Temperature code reading function</li>
<li>Temperature code averaging function</li>
<li>Comparison with the upper and lower limit settings</li>
<li>Interrupt function</li>
<li>Conversion start trigger (by software and by an ELC trigger)</li>
<li>Single scan</li>
</ul>
<h1><a class="anchor" id="r-tsu-b-configuration"></a>
Configuration</h1>
<p><h2>Build Time Configurations for r_tsu_b</h2>
The following build time configurations are defined in fsp_cfg/r_tsu_b_cfg.h:<br />
</p><table class="doxtable">
<tr>
<th>Configuration</th><th>Options</th><th>Default</th><th>Description </th></tr>
<tr>
<td>Parameter Checking</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Default (BSP)</li>
<li>
Enabled</li>
<li>
Disabled</li>
</ul>
</td><td>Default (BSP) </td><td>If selected code for parameter checking is included in the build. </td></tr>
</table>
 <h2>Configurations for Sensor &gt; Temperature Sensor Unit (r_tsu_b)</h2>
This module can be added to the Stacks tab via New Stack &gt; Sensor &gt; Temperature Sensor Unit (r_tsu_b).<br />
</p><table class="doxtable">
<tr>
<th>Configuration</th><th>Options</th><th>Default</th><th>Description </th></tr>
<tr>
<td>General &gt; Name</td><td>Name must be a valid C symbol</td><td>g_tsu0 </td><td>Module name </td></tr>
<tr>
<td>General &gt; Unit</td><td>MCU Specific Options</td><td></td><td>Specifies the TSU_B Unit to be used. </td></tr>
<tr>
<td>General &gt; Mode</td><td>MCU Specific Options</td><td></td><td>Select the scan mode. </td></tr>
<tr>
<td>General &gt; Average Count</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
1(Latest read data)</li>
<li>
2</li>
<li>
4</li>
<li>
8</li>
</ul>
</td><td>1(Latest read data) </td><td>Average Count Setting. </td></tr>
<tr>
<td>General &gt; Trigger mode</td><td>MCU Specific Options</td><td></td><td>Select the trigger mode. </td></tr>
<tr>
<td>General &gt; ELC Event</td><td>MCU Specific Options</td><td></td><td>Specifies the ELC trigger to be used for this unit. </td></tr>
<tr>
<td>Comparison Function &gt; Compare Mode</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Disabled</li>
<li>
Outside the range of the setting values</li>
<li>
Within the range of the setting values</li>
</ul>
</td><td>Disabled </td><td>Select the compare mode. </td></tr>
<tr>
<td>Comparison Function &gt; Lower Limit Value</td><td>Value must be between -40 and 125</td><td>15 </td><td>Lower Limit Setting (degrees Celsius). </td></tr>
<tr>
<td>Comparison Function &gt; Upper Limit Value</td><td>Value must be between -40 and 125</td><td>25 </td><td>Upper Limit Setting (degrees Celsius). </td></tr>
<tr>
<td>Interrupts &gt; Callback</td><td>Name must be a valid C symbol</td><td>NULL </td><td>A user callback function can be provided here. If this callback function is provided, it is called from the interrupt service routine (ISR) </td></tr>
<tr>
<td>Interrupts &gt; Conversion Complete Interrupt Enable</td><td>MCU Specific Options</td><td></td><td>Enable or disable the conversion complete interrupt. </td></tr>
<tr>
<td>Interrupts &gt; Conversion Complete Interrupt Priority</td><td>Value must be between 0 and 255</td><td>12 </td><td>Select the interrupt priority for Conversion complete. </td></tr>
<tr>
<td>Interrupts &gt; Comparison Result Interrupt Enable</td><td>MCU Specific Options</td><td></td><td>Enable or disable the Comparison Result interrupt. </td></tr>
<tr>
<td>Interrupts &gt; Comparison Result Interrupt Priority</td><td>Value must be between 0 and 255</td><td>12 </td><td>Select the interrupt priority for Comparison Result. </td></tr>
</table>
</p>
<h2><a class="anchor" id="r-tsu-b-clock-configuration"></a>
Clock Configuration</h2>
<p>The TSU_B clock is OSC. Fix the clock frequency of this unit to 24 MHz.</p>
<h2><a class="anchor" id="r-tsu-b-pin-configuration"></a>
Pin Configuration</h2>
<p>This module does not use I/O pins.</p>
<h1><a class="anchor" id="r-tsu-b-usage_notes"></a>
Usage Notes</h1>
<h2>Using the Temperature Sensor with the TSU</h2>
<p>The TSU_B HAL module supports reading the data from the on-chip temperature sensor. The value returned by the sensor can be converted to degrees Celsius by calling R_TSU_B_CalculateTemperature.</p>
<h3>Comparison function</h3>
<p>This function compares the averaged temperature code and the values set by the LLIM[11:0] bits of the lower limit setting register and the ULIM[11:0] bits of the upper limit setting register. When a value meets the configured condition an interrupt can be produced.</p>
<h1><a class="anchor" id="r-tsu-b-examples"></a>
Examples</h1>
<h2>Basic Example</h2>
<p>This is a basic example of minimal use of the TSU_B in an application.</p>
<div class="fragment"><div class="line"></div><div class="line"><span class="keyword">const</span> <a class="code" href="group___t_s_u___b.html#structtsu__b__extended__cfg__t">tsu_b_extended_cfg_t</a> g_tsu0_cfg_extend =</div><div class="line">{</div><div class="line">    .<a class="code" href="group___t_s_u___b.html#a525f475e04de0b02bf01105495f9f474">average_count</a>    = <a class="code" href="group___t_s_u___b.html#gga5ab9606f8b75e848e5743dd79d08aa29a0c5fc7fe1db6dc27007a10395c080d74">TSU_B_AVERAGE_OFF</a>,</div><div class="line">    .comparison_mode  = <a class="code" href="group___t_s_u___b.html#ggae1e53473fd2f49e840ce26b43131aa29a21127683f9dd0b510c15ebab44d7bf8a">TSU_B_COMPARE_CFG_DISABLE</a>,</div><div class="line">    .compare_ref_low  = 0,</div><div class="line">    .compare_ref_high = 0,</div><div class="line">    .compare_irq      = <a class="code" href="group___b_s_p___m_c_u.html#ga4e36b09bee515ff1b813e7ba0412e60d">FSP_INVALID_VECTOR</a>,</div><div class="line">    .compare_ipl      = 12</div><div class="line">};</div><div class="line"></div><div class="line"><span class="keyword">const</span> <a class="code" href="group___a_d_c___a_p_i.html#structadc__cfg__t">adc_cfg_t</a> g_tsu0_cfg =</div><div class="line">{</div><div class="line">    .<a class="code" href="group___a_d_c___a_p_i.html#a5da30f972881cd9d64f3a7add1ccd522">unit</a>         = 0,</div><div class="line">    .mode         = <a class="code" href="group___a_d_c___a_p_i.html#gga760a8dafdcddcfadfea0aa3e01159164a1ac4130959b24d8426fd8f59326a5630">ADC_MODE_SINGLE_SCAN</a>,</div><div class="line">    .resolution   = <a class="code" href="group___a_d_c___a_p_i.html#ggaf88bfcbfc4a19c82f8bb423218d13cdaab35c4dcc6cda85146a9ffd339c5de1c4">ADC_RESOLUTION_12_BIT</a>,</div><div class="line">    .alignment    = (<a class="code" href="group___a_d_c___a_p_i.html#gaab0104c9c876400deb5772a77c1c5d76">adc_alignment_t</a>) <a class="code" href="group___a_d_c___a_p_i.html#ggaab0104c9c876400deb5772a77c1c5d76ae70affd23c02c0bc52dc0fe55c9c4879">ADC_ALIGNMENT_RIGHT</a>,</div><div class="line">    .trigger      = <a class="code" href="group___a_d_c___a_p_i.html#gga1ac380ffe2ebef256338616747d330e3a627b041b2095033f96a9a97dc474d26a">ADC_TRIGGER_SOFTWARE</a>,</div><div class="line">    .p_callback   = tsu_b_callback,</div><div class="line">    .p_context    = NULL,</div><div class="line">    .p_extend     = &amp;g_tsu0_cfg_extend,</div><div class="line">    .scan_end_irq = TSU_B1_S12TSUADI_IRQn,</div><div class="line">    .scan_end_ipl = 12</div><div class="line">};</div><div class="line"></div><div class="line"><span class="keyword">volatile</span> <span class="keywordtype">bool</span> scan_complete_flag = <span class="keyword">false</span>;</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> tsu_b_callback (<a class="code" href="group___a_d_c___a_p_i.html#structadc__callback__args__t">adc_callback_args_t</a> * p_args)</div><div class="line">{</div><div class="line">    <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gaf0afcbc9a110ac9366a811d96ee06029">FSP_PARAMETER_NOT_USED</a>(p_args);</div><div class="line"></div><div class="line">    scan_complete_flag = <span class="keyword">true</span>;</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> tsu_b_basic_example (<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    uint32_t calibration_data1;</div><div class="line">    uint32_t calibration_data2;</div><div class="line"></div><div class="line">    <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> err = FSP_SUCCESS;</div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">/* Initializes the module. */</span></div><div class="line">    err = <a class="code" href="group___t_s_u___b.html#ga97e39892fa51e09d3809f600781f3b98">R_TSU_B_Open</a>(&amp;g_tsu0_ctrl, &amp;g_tsu0_cfg);</div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">/* Handle any errors. This function should be defined by the user. */</span></div><div class="line">    assert(FSP_SUCCESS == err);</div><div class="line"></div><div class="line">    <span class="comment">/* Get Calibration data from the MPU if available. */</span></div><div class="line">    <a class="code" href="group___a_d_c___a_p_i.html#structadc__info__t">adc_info_t</a> tsu_info;</div><div class="line">    err = <a class="code" href="group___t_s_u___b.html#ga5e8b4241a1e5e499da79c839aad0628e">R_TSU_B_InfoGet</a>(&amp;g_tsu0_ctrl, &amp;tsu_info);</div><div class="line">    assert(FSP_SUCCESS == err);</div><div class="line">    calibration_data1 = tsu_info.<a class="code" href="group___a_d_c___a_p_i.html#a366d981b2bfa6c2ade3a3f8f8c00ff70">calibration_data1</a>;</div><div class="line">    calibration_data2 = tsu_info.<a class="code" href="group___a_d_c___a_p_i.html#afec4154b488a160a33ceebca6affc94e">calibration_data2</a>;</div><div class="line"></div><div class="line">    <span class="comment">/* Check the calibration data because of if the calibration data is an incorrect value, the temperature cannot be calculated correctly. */</span></div><div class="line">    <span class="keywordflow">if</span> ((calibration_data1 &lt; TSU_B_EXAMPLE_CALIBRATION_DATA_LOWER_LIMIT) ||</div><div class="line">        (calibration_data1 &gt; TSU_B_EXAMPLE_CALIBRATION_DATA_UPPER_LIMIT) ||</div><div class="line">        (calibration_data2 &lt; TSU_B_EXAMPLE_CALIBRATION_DATA_LOWER_LIMIT) ||</div><div class="line">        (calibration_data2 &gt; TSU_B_EXAMPLE_CALIBRATION_DATA_UPPER_LIMIT))</div><div class="line">    {</div><div class="line">        __BKPT(0);</div><div class="line">    }</div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">/* In software trigger mode, start a scan by calling R_TSU_B_ScanStart(). In other modes, enable external</span></div><div class="line"><span class="comment">     * triggers by calling R_TSU_B_ScanStart(). */</span></div><div class="line">    err = <a class="code" href="group___t_s_u___b.html#ga39f1ed741b28eab45f1712935f3883e4">R_TSU_B_ScanStart</a>(&amp;g_tsu0_ctrl);</div><div class="line">    assert(FSP_SUCCESS == err);</div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">/* Wait for conversion to complete. */</span></div><div class="line">    <span class="keywordflow">while</span> (!scan_complete_flag)</div><div class="line">    {</div><div class="line">        <span class="comment">/* Wait for callback to set flag. */</span></div><div class="line">    }</div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">/* Read converted data. */</span></div><div class="line">    uint16_t conversion_result;</div><div class="line">    err = <a class="code" href="group___t_s_u___b.html#gada13a2179de16db6073f307afae1e612">R_TSU_B_Read</a>(&amp;g_tsu0_ctrl, <a class="code" href="group___a_d_c___a_p_i.html#ggaafc4060027875f8fe46242b0656d7814a69dddf5b6edfe54ac25b653d8f62d104">ADC_CHANNEL_0</a>, &amp;conversion_result);</div><div class="line">    assert(FSP_SUCCESS == err);</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">/* Calculate temperature. */</span></div><div class="line">    <span class="keywordtype">float</span> temperature;</div><div class="line">    err = <a class="code" href="group___t_s_u___b.html#ga7b164d0defb1b364c993b138a3ca0524">R_TSU_B_CalculateTemperature</a>(&amp;g_tsu0_ctrl, conversion_result, &amp;temperature);</div><div class="line">    assert(FSP_SUCCESS == err);</div><div class="line"></div><div class="line">}</div><div class="line"></div></div><!-- fragment --> <h2>Compare Example</h2>
<p>This example shows how to configure the compare function at runtime as well as how to handle events and obtain comparison results through a callback.</p>
<div class="fragment"><div class="line"></div><div class="line"><span class="keyword">const</span> <a class="code" href="group___t_s_u___b.html#structtsu__b__extended__cfg__t">tsu_b_extended_cfg_t</a> g_tsu0_compare_cfg_extend =</div><div class="line">{</div><div class="line">    .<a class="code" href="group___t_s_u___b.html#a525f475e04de0b02bf01105495f9f474">average_count</a>    = <a class="code" href="group___t_s_u___b.html#gga5ab9606f8b75e848e5743dd79d08aa29afa39988bdc4f045e0cae55754afe8d14">TSU_B_AVERAGE_EIGHT</a>,</div><div class="line">    .comparison_mode  = <a class="code" href="group___t_s_u___b.html#ggae1e53473fd2f49e840ce26b43131aa29aabcb24a3f71042eff1118cb3ebf8b318">TSU_B_COMPARE_CFG_INSIDE</a>,</div><div class="line">    .compare_ref_low  = 20,</div><div class="line">    .compare_ref_high = 30,</div><div class="line">    .compare_irq      = TSU_B1_S12TSUADCMPI_IRQn,</div><div class="line">    .compare_ipl      = 12</div><div class="line">};</div><div class="line"></div><div class="line"><span class="keyword">const</span> <a class="code" href="group___a_d_c___a_p_i.html#structadc__cfg__t">adc_cfg_t</a> g_tsu0_compare_cfg =</div><div class="line">{</div><div class="line">    .<a class="code" href="group___a_d_c___a_p_i.html#a5da30f972881cd9d64f3a7add1ccd522">unit</a>         = 0,</div><div class="line">    .mode         = <a class="code" href="group___a_d_c___a_p_i.html#gga760a8dafdcddcfadfea0aa3e01159164a1ac4130959b24d8426fd8f59326a5630">ADC_MODE_SINGLE_SCAN</a>,</div><div class="line">    .resolution   = <a class="code" href="group___a_d_c___a_p_i.html#ggaf88bfcbfc4a19c82f8bb423218d13cdaab35c4dcc6cda85146a9ffd339c5de1c4">ADC_RESOLUTION_12_BIT</a>,</div><div class="line">    .alignment    = (<a class="code" href="group___a_d_c___a_p_i.html#gaab0104c9c876400deb5772a77c1c5d76">adc_alignment_t</a>) <a class="code" href="group___a_d_c___a_p_i.html#ggaab0104c9c876400deb5772a77c1c5d76ae70affd23c02c0bc52dc0fe55c9c4879">ADC_ALIGNMENT_RIGHT</a>,</div><div class="line">    .trigger      = <a class="code" href="group___a_d_c___a_p_i.html#gga1ac380ffe2ebef256338616747d330e3a627b041b2095033f96a9a97dc474d26a">ADC_TRIGGER_SOFTWARE</a>,</div><div class="line">    .p_callback   = tsu_b_compare_callback,</div><div class="line">    .p_context    = NULL,</div><div class="line">    .p_extend     = &amp;g_tsu0_compare_cfg_extend,</div><div class="line">    .scan_end_irq = <a class="code" href="group___b_s_p___m_c_u.html#ga4e36b09bee515ff1b813e7ba0412e60d">FSP_INVALID_VECTOR</a>,</div><div class="line">    .scan_end_ipl = 12</div><div class="line">};</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> tsu_b_compare_callback (<a class="code" href="group___a_d_c___a_p_i.html#structadc__callback__args__t">adc_callback_args_t</a> * <span class="keyword">const</span> p_unused)</div><div class="line">{</div><div class="line">    (void) p_unused;</div><div class="line"></div><div class="line">    <span class="comment">/* Read converted data. */</span></div><div class="line">    uint16_t conversion_result;</div><div class="line">    <span class="keywordtype">float</span>    temperature;</div><div class="line"></div><div class="line">    <span class="comment">/* Read converted data. */</span></div><div class="line">    (void) <a class="code" href="group___t_s_u___b.html#gada13a2179de16db6073f307afae1e612">R_TSU_B_Read</a>(&amp;g_tsu0_ctrl, <a class="code" href="group___a_d_c___a_p_i.html#ggaafc4060027875f8fe46242b0656d7814a69dddf5b6edfe54ac25b653d8f62d104">ADC_CHANNEL_0</a>, &amp;conversion_result);</div><div class="line"></div><div class="line">    <span class="comment">/* Calculate temperature. */</span></div><div class="line">    (void) <a class="code" href="group___t_s_u___b.html#ga7b164d0defb1b364c993b138a3ca0524">R_TSU_B_CalculateTemperature</a>(&amp;g_tsu0_ctrl, conversion_result, &amp;temperature);</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> tsu_b_compare_example (<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    uint32_t calibration_data1;</div><div class="line">    uint32_t calibration_data2;</div><div class="line"></div><div class="line">    <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> err = FSP_SUCCESS;</div><div class="line"></div><div class="line">    <span class="comment">/* Initializes the module. */</span></div><div class="line">    err = <a class="code" href="group___t_s_u___b.html#ga97e39892fa51e09d3809f600781f3b98">R_TSU_B_Open</a>(&amp;g_tsu0_ctrl, &amp;g_tsu0_compare_cfg);</div><div class="line"></div><div class="line">    <span class="comment">/* Handle any errors. This function should be defined by the user. */</span></div><div class="line">    assert(FSP_SUCCESS == err);</div><div class="line"></div><div class="line">    <span class="comment">/* Get Calibration data from the MPU if available. */</span></div><div class="line">    <a class="code" href="group___a_d_c___a_p_i.html#structadc__info__t">adc_info_t</a> tsu_info;</div><div class="line">    err = <a class="code" href="group___t_s_u___b.html#ga5e8b4241a1e5e499da79c839aad0628e">R_TSU_B_InfoGet</a>(&amp;g_tsu0_ctrl, &amp;tsu_info);</div><div class="line">    assert(FSP_SUCCESS == err);</div><div class="line">    calibration_data1 = tsu_info.<a class="code" href="group___a_d_c___a_p_i.html#a366d981b2bfa6c2ade3a3f8f8c00ff70">calibration_data1</a>;</div><div class="line">    calibration_data2 = tsu_info.<a class="code" href="group___a_d_c___a_p_i.html#afec4154b488a160a33ceebca6affc94e">calibration_data2</a>;</div><div class="line"></div><div class="line">    <span class="comment">/* Check the calibration data because of if the calibration data is an incorrect value, the temperature cannot be calculated correctly. */</span></div><div class="line">    <span class="keywordflow">if</span> ((calibration_data1 &lt; TSU_B_EXAMPLE_CALIBRATION_DATA_LOWER_LIMIT) ||</div><div class="line">        (calibration_data1 &gt; TSU_B_EXAMPLE_CALIBRATION_DATA_UPPER_LIMIT) ||</div><div class="line">        (calibration_data2 &lt; TSU_B_EXAMPLE_CALIBRATION_DATA_LOWER_LIMIT) ||</div><div class="line">        (calibration_data2 &gt; TSU_B_EXAMPLE_CALIBRATION_DATA_UPPER_LIMIT))</div><div class="line">    {</div><div class="line">        __BKPT(0);</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">/* In software trigger mode, start a scan by calling R_TSU_B_ScanStart(). In other modes, enable external</span></div><div class="line"><span class="comment">     * triggers by calling R_TSU_B_ScanStart(). */</span></div><div class="line">    err = <a class="code" href="group___t_s_u___b.html#ga39f1ed741b28eab45f1712935f3883e4">R_TSU_B_ScanStart</a>(&amp;g_tsu0_ctrl);</div><div class="line">    assert(FSP_SUCCESS == err);</div><div class="line">}</div><div class="line"></div></div><!-- fragment --> <h2>Get temperature Example</h2>
<p>This example shows how to get the temperature multiple times and average it to calculate the temperature.</p>
<div class="fragment"><div class="line"></div><div class="line"><span class="preprocessor">#define TSU_B_EXAMPLE_CONVERSION_COUNT              (4)</span></div><div class="line"><span class="preprocessor">#define TSU_B_EXAMPLE_TEMPERATURE_LOWER_LIMIT       (-41)</span></div><div class="line"><span class="preprocessor">#define TSU_B_EXAMPLE_TEMPERATURE_UPPER_LIMIT       (125)</span></div><div class="line"><span class="preprocessor">#define TSU_B_EXAMPLE_TEMPERATURE_POSITIVE_ERROR    (5)</span></div><div class="line"><span class="preprocessor">#define TSU_B_EXAMPLE_TEMPERATURE_NEGATIVE_ERROR    (-5)</span></div><div class="line"></div><div class="line"><span class="keyword">const</span> <a class="code" href="group___t_s_u___b.html#structtsu__b__extended__cfg__t">tsu_b_extended_cfg_t</a> g_tsu0_get_temp_cfg_extend =</div><div class="line">{</div><div class="line">    .<a class="code" href="group___t_s_u___b.html#a525f475e04de0b02bf01105495f9f474">average_count</a>    = <a class="code" href="group___t_s_u___b.html#gga5ab9606f8b75e848e5743dd79d08aa29afa39988bdc4f045e0cae55754afe8d14">TSU_B_AVERAGE_EIGHT</a>,</div><div class="line">    .comparison_mode  = <a class="code" href="group___t_s_u___b.html#ggae1e53473fd2f49e840ce26b43131aa29a21127683f9dd0b510c15ebab44d7bf8a">TSU_B_COMPARE_CFG_DISABLE</a>,</div><div class="line">    .compare_ref_low  = 0,</div><div class="line">    .compare_ref_high = 0,</div><div class="line">    .compare_irq      = <a class="code" href="group___b_s_p___m_c_u.html#ga4e36b09bee515ff1b813e7ba0412e60d">FSP_INVALID_VECTOR</a>,</div><div class="line">    .compare_ipl      = 12,</div><div class="line">};</div><div class="line"></div><div class="line"><span class="keyword">const</span> <a class="code" href="group___a_d_c___a_p_i.html#structadc__cfg__t">adc_cfg_t</a> g_tsu0_get_temp_cfg =</div><div class="line">{</div><div class="line">    .<a class="code" href="group___a_d_c___a_p_i.html#a5da30f972881cd9d64f3a7add1ccd522">unit</a>         = 0,</div><div class="line">    .mode         = <a class="code" href="group___a_d_c___a_p_i.html#gga760a8dafdcddcfadfea0aa3e01159164a1ac4130959b24d8426fd8f59326a5630">ADC_MODE_SINGLE_SCAN</a>,</div><div class="line">    .resolution   = <a class="code" href="group___a_d_c___a_p_i.html#ggaf88bfcbfc4a19c82f8bb423218d13cdaab35c4dcc6cda85146a9ffd339c5de1c4">ADC_RESOLUTION_12_BIT</a>,</div><div class="line">    .alignment    = (<a class="code" href="group___a_d_c___a_p_i.html#gaab0104c9c876400deb5772a77c1c5d76">adc_alignment_t</a>) <a class="code" href="group___a_d_c___a_p_i.html#ggaab0104c9c876400deb5772a77c1c5d76ae70affd23c02c0bc52dc0fe55c9c4879">ADC_ALIGNMENT_RIGHT</a>,</div><div class="line">    .trigger      = <a class="code" href="group___a_d_c___a_p_i.html#gga1ac380ffe2ebef256338616747d330e3a627b041b2095033f96a9a97dc474d26a">ADC_TRIGGER_SOFTWARE</a>,</div><div class="line">    .p_callback   = tsu_b_get_temp_callback,</div><div class="line">    .p_context    = NULL,</div><div class="line">    .p_extend     = &amp;g_tsu0_get_temp_cfg_extend,</div><div class="line">    .scan_end_irq = TSU_B1_S12TSUADI_IRQn,</div><div class="line">    .scan_end_ipl = (12),</div><div class="line">};</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> tsu_b_get_temp_callback (<a class="code" href="group___a_d_c___a_p_i.html#structadc__callback__args__t">adc_callback_args_t</a> * p_args)</div><div class="line">{</div><div class="line">    <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gaf0afcbc9a110ac9366a811d96ee06029">FSP_PARAMETER_NOT_USED</a>(p_args);</div><div class="line"></div><div class="line">    scan_complete_flag = <span class="keyword">true</span>;</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keyword">volatile</span> <span class="keywordtype">bool</span> timer_overflow_flag = <span class="keyword">false</span>;</div><div class="line"><span class="keywordtype">void</span> gpt_callback (<a class="code" href="group___t_i_m_e_r___a_p_i.html#structtimer__callback__args__t">timer_callback_args_t</a> * p_args)</div><div class="line">{</div><div class="line">    <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gaf0afcbc9a110ac9366a811d96ee06029">FSP_PARAMETER_NOT_USED</a>(p_args);</div><div class="line"></div><div class="line">    timer_overflow_flag = <span class="keyword">true</span>;</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> tsu_b_get_temperature_example (<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    uint32_t calibration_data1;</div><div class="line">    uint32_t calibration_data2;</div><div class="line">    uint8_t  conversion_count = 0;</div><div class="line">    <span class="keywordtype">float</span>    temperature_sum  = 0.0;</div><div class="line">    <span class="keywordtype">float</span>    Tj;</div><div class="line">    uint16_t conversion_result[TSU_B_EXAMPLE_CONVERSION_COUNT];</div><div class="line">    <span class="keywordtype">float</span>    temperature[TSU_B_EXAMPLE_CONVERSION_COUNT];</div><div class="line"></div><div class="line">    <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> err = FSP_SUCCESS;</div><div class="line"></div><div class="line">    <span class="comment">/* Initializes the module. */</span></div><div class="line">    err = <a class="code" href="group___t_s_u___b.html#ga97e39892fa51e09d3809f600781f3b98">R_TSU_B_Open</a>(&amp;g_tsu0_ctrl, &amp;g_tsu0_get_temp_cfg);</div><div class="line"></div><div class="line">    <span class="comment">/* Handle any errors. This function should be defined by the user. */</span></div><div class="line">    assert(FSP_SUCCESS == err);</div><div class="line"></div><div class="line">    <span class="comment">/* Get Calibration data from the MPU if available. */</span></div><div class="line">    <a class="code" href="group___a_d_c___a_p_i.html#structadc__info__t">adc_info_t</a> tsu_info;</div><div class="line">    err = <a class="code" href="group___t_s_u___b.html#ga5e8b4241a1e5e499da79c839aad0628e">R_TSU_B_InfoGet</a>(&amp;g_tsu0_ctrl, &amp;tsu_info);</div><div class="line">    assert(FSP_SUCCESS == err);</div><div class="line">    calibration_data1 = tsu_info.<a class="code" href="group___a_d_c___a_p_i.html#a366d981b2bfa6c2ade3a3f8f8c00ff70">calibration_data1</a>;</div><div class="line">    calibration_data2 = tsu_info.<a class="code" href="group___a_d_c___a_p_i.html#afec4154b488a160a33ceebca6affc94e">calibration_data2</a>;</div><div class="line"></div><div class="line">    <span class="comment">/* Check the calibration data because of if the calibration data is an incorrect value, the temperature cannot be calculated correctly. */</span></div><div class="line">    <span class="keywordflow">if</span> ((calibration_data1 &lt; TSU_B_EXAMPLE_CALIBRATION_DATA_LOWER_LIMIT) ||</div><div class="line">        (calibration_data1 &gt; TSU_B_EXAMPLE_CALIBRATION_DATA_UPPER_LIMIT) ||</div><div class="line">        (calibration_data2 &lt; TSU_B_EXAMPLE_CALIBRATION_DATA_LOWER_LIMIT) ||</div><div class="line">        (calibration_data2 &gt; TSU_B_EXAMPLE_CALIBRATION_DATA_UPPER_LIMIT))</div><div class="line">    {</div><div class="line">        __BKPT(0);</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordflow">while</span> (conversion_count &lt; TSU_B_EXAMPLE_CONVERSION_COUNT)</div><div class="line">    {</div><div class="line">        <span class="keywordflow">if</span> (conversion_count == 0)</div><div class="line">        {</div><div class="line">            <span class="comment">/* Initializes the GPT module. Set the period to 500ms. (This value becomes the temperature acquisition interval and can be changed by the user.) */</span></div><div class="line">            err = <a class="code" href="group___g_p_t.html#ga97d0a9c1a8fb6b88d1c12756dd8ce2d2">R_GPT_Open</a>(&amp;g_timer0_ctrl, &amp;g_timer0_cfg);</div><div class="line">            assert(FSP_SUCCESS == err);</div><div class="line"></div><div class="line">            <span class="comment">/* Start the timer. */</span></div><div class="line">            err = <a class="code" href="group___g_p_t.html#ga2769f9fda49613246bc84dba41aa4863">R_GPT_Start</a>(&amp;g_timer0_ctrl);</div><div class="line">            assert(FSP_SUCCESS == err);</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="keywordflow">while</span> (!timer_overflow_flag)</div><div class="line">        {</div><div class="line">            <span class="comment">/* Wait for callback to set flag. */</span></div><div class="line">        }</div><div class="line"></div><div class="line">        timer_overflow_flag = <span class="keyword">false</span>;</div><div class="line"></div><div class="line">        <span class="comment">/* In software trigger mode, start a scan by calling R_TSU_B_ScanStart(). */</span></div><div class="line">        err = <a class="code" href="group___t_s_u___b.html#ga39f1ed741b28eab45f1712935f3883e4">R_TSU_B_ScanStart</a>(&amp;g_tsu0_ctrl);</div><div class="line">        assert(FSP_SUCCESS == err);</div><div class="line"></div><div class="line">        <span class="comment">/* Wait for conversion to complete. */</span></div><div class="line">        <span class="keywordflow">while</span> (!scan_complete_flag)</div><div class="line">        {</div><div class="line">            <span class="comment">/* Wait for callback to set flag. */</span></div><div class="line">        }</div><div class="line"></div><div class="line">        scan_complete_flag = <span class="keyword">false</span>;</div><div class="line"></div><div class="line">        <span class="comment">/* Read converted data. */</span></div><div class="line">        err = <a class="code" href="group___t_s_u___b.html#gada13a2179de16db6073f307afae1e612">R_TSU_B_Read</a>(&amp;g_tsu0_ctrl, <a class="code" href="group___a_d_c___a_p_i.html#ggaafc4060027875f8fe46242b0656d7814a69dddf5b6edfe54ac25b653d8f62d104">ADC_CHANNEL_0</a>, &amp;conversion_result[conversion_count]);</div><div class="line">        assert(FSP_SUCCESS == err);</div><div class="line"></div><div class="line">        <span class="comment">/* Calculate temperature. */</span></div><div class="line">        err =</div><div class="line">            <a class="code" href="group___t_s_u___b.html#ga7b164d0defb1b364c993b138a3ca0524">R_TSU_B_CalculateTemperature</a>(&amp;g_tsu0_ctrl, conversion_result[conversion_count],</div><div class="line">                                         &amp;temperature[conversion_count]);</div><div class="line">        assert(FSP_SUCCESS == err);</div><div class="line"></div><div class="line">        <span class="comment">/* Confirm that it is within the range of +125 degrees Celsius to -41 degrees Celsius and calculate the average value. */</span></div><div class="line">        <span class="keywordflow">if</span> ((temperature[conversion_count] &gt; TSU_B_EXAMPLE_TEMPERATURE_LOWER_LIMIT) &amp;&amp;</div><div class="line">            (temperature[conversion_count] &lt; TSU_B_EXAMPLE_TEMPERATURE_UPPER_LIMIT))</div><div class="line">        {</div><div class="line">            temperature_sum += temperature[conversion_count];</div><div class="line">            conversion_count++;</div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span></div><div class="line">        {</div><div class="line">            <span class="keywordflow">break</span>;</div><div class="line">        }</div><div class="line">    }</div><div class="line"></div><div class="line">    Tj = temperature_sum / TSU_B_EXAMPLE_CONVERSION_COUNT;</div><div class="line"></div><div class="line">    <span class="comment">/* Check that the initial value and Tj are within the error range. */</span></div><div class="line">    <span class="keywordflow">if</span> ((TSU_B_EXAMPLE_TEMPERATURE_POSITIVE_ERROR &lt; (Tj - temperature[0])) ||</div><div class="line">        (TSU_B_EXAMPLE_TEMPERATURE_NEGATIVE_ERROR &gt; (Tj - temperature[0])))</div><div class="line">    {</div><div class="line">        __BKPT(0);</div><div class="line">    }</div><div class="line">}</div><div class="line"></div></div><!-- fragment --><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:structtsu__b__extended__cfg__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___t_s_u___b.html#structtsu__b__extended__cfg__t">tsu_b_extended_cfg_t</a></td></tr>
<tr class="separator:structtsu__b__extended__cfg__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structtsu__b__instance__ctrl__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___t_s_u___b.html#structtsu__b__instance__ctrl__t">tsu_b_instance_ctrl_t</a></td></tr>
<tr class="separator:structtsu__b__instance__ctrl__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga5ab9606f8b75e848e5743dd79d08aa29"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___t_s_u___b.html#ga5ab9606f8b75e848e5743dd79d08aa29">tsu_b_average_t</a> </td></tr>
<tr class="separator:ga5ab9606f8b75e848e5743dd79d08aa29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae1e53473fd2f49e840ce26b43131aa29"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___t_s_u___b.html#gae1e53473fd2f49e840ce26b43131aa29">tsu_b_compare_cfg_t</a> </td></tr>
<tr class="separator:gae1e53473fd2f49e840ce26b43131aa29"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="structtsu__b__extended__cfg__t" id="structtsu__b__extended__cfg__t"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structtsu__b__extended__cfg__t">&#9670;&nbsp;</a></span>tsu_b_extended_cfg_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct tsu_b_extended_cfg_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>Extended configuration structure for ADC. </p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a525f475e04de0b02bf01105495f9f474"></a><a class="el" href="group___t_s_u___b.html#ga5ab9606f8b75e848e5743dd79d08aa29">tsu_b_average_t</a></td>
<td class="fieldname">
average_count</td>
<td class="fielddoc">
Average counts. </td></tr>
<tr><td class="fieldtype">
<a id="a3906e15e289a42557f63f5514c81f8d1"></a><a class="el" href="group___t_s_u___b.html#gae1e53473fd2f49e840ce26b43131aa29">tsu_b_compare_cfg_t</a></td>
<td class="fieldname">
comparison_mode</td>
<td class="fielddoc">
TSU_B compare function configuration. </td></tr>
<tr><td class="fieldtype">
<a id="a1fce1fbc4e5f916220040a4146e27c49"></a>int16_t</td>
<td class="fieldname">
compare_ref_low</td>
<td class="fielddoc">
Lower reference value. </td></tr>
<tr><td class="fieldtype">
<a id="a22491b611c1958bb5405b05b2a7a3feb"></a>int16_t</td>
<td class="fieldname">
compare_ref_high</td>
<td class="fielddoc">
Upper reference value. </td></tr>
<tr><td class="fieldtype">
<a id="a3fc59fe6297b3d440cb73510eaf7f21b"></a>IRQn_Type</td>
<td class="fieldname">
compare_irq</td>
<td class="fielddoc">
IRQ number for Comparison Result Interrupts. </td></tr>
<tr><td class="fieldtype">
<a id="a06b6e82fcee558ee4548f37d8620a1f4"></a>uint8_t</td>
<td class="fieldname">
compare_ipl</td>
<td class="fielddoc">
Priority for Comparison Result Interrupts. </td></tr>
<tr><td class="fieldtype">
<a id="a94b754189e951e3361eb3b1c7e69b3e6"></a>void *</td>
<td class="fieldname">
p_reg</td>
<td class="fielddoc">
Register base address for specified channel. </td></tr>
</table>

</div>
</div>
<a name="structtsu__b__instance__ctrl__t" id="structtsu__b__instance__ctrl__t"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structtsu__b__instance__ctrl__t">&#9670;&nbsp;</a></span>tsu_b_instance_ctrl_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct tsu_b_instance_ctrl_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>TSU_B instance control block. DO NOT INITIALIZE. Initialized in <a class="el" href="group___a_d_c___a_p_i.html#afa184c06541e3fd9f90fc12ed775f468">adc_api_t::open()</a>. </p>
</div>
</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga5ab9606f8b75e848e5743dd79d08aa29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5ab9606f8b75e848e5743dd79d08aa29">&#9670;&nbsp;</a></span>tsu_b_average_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___t_s_u___b.html#ga5ab9606f8b75e848e5743dd79d08aa29">tsu_b_average_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>TSU_B data sample addition and averaging options </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga5ab9606f8b75e848e5743dd79d08aa29a0c5fc7fe1db6dc27007a10395c080d74"></a>TSU_B_AVERAGE_OFF&#160;</td><td class="fielddoc"><p>Latest read data. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga5ab9606f8b75e848e5743dd79d08aa29a77418279f9f52d5ca8ffa8418e42d8bf"></a>TSU_B_AVERAGE_TWO&#160;</td><td class="fielddoc"><p>Average two samples. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga5ab9606f8b75e848e5743dd79d08aa29af001e8665548dd625eff4fe09f1d0102"></a>TSU_B_AVERAGE_FOUR&#160;</td><td class="fielddoc"><p>Average four samples. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga5ab9606f8b75e848e5743dd79d08aa29afa39988bdc4f045e0cae55754afe8d14"></a>TSU_B_AVERAGE_EIGHT&#160;</td><td class="fielddoc"><p>Average eight samples. </p>
</td></tr>
</table>

</div>
</div>
<a id="gae1e53473fd2f49e840ce26b43131aa29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae1e53473fd2f49e840ce26b43131aa29">&#9670;&nbsp;</a></span>tsu_b_compare_cfg_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___t_s_u___b.html#gae1e53473fd2f49e840ce26b43131aa29">tsu_b_compare_cfg_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>TSU_B comparison settings </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggae1e53473fd2f49e840ce26b43131aa29a21127683f9dd0b510c15ebab44d7bf8a"></a>TSU_B_COMPARE_CFG_DISABLE&#160;</td><td class="fielddoc"><p>Compare function is disabled. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggae1e53473fd2f49e840ce26b43131aa29ab9a284ff26dcbb57af3e9278b7882702"></a>TSU_B_COMPARE_CFG_OUTSIDE&#160;</td><td class="fielddoc"><p>Comparison Mode: Outside. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggae1e53473fd2f49e840ce26b43131aa29aabcb24a3f71042eff1118cb3ebf8b318"></a>TSU_B_COMPARE_CFG_INSIDE&#160;</td><td class="fielddoc"><p>Comparison Mode: Inside. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga97e39892fa51e09d3809f600781f3b98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga97e39892fa51e09d3809f600781f3b98">&#9670;&nbsp;</a></span>R_TSU_B_Open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_TSU_B_Open </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___a_d_c___a_p_i.html#gaff9488cd90102a90e5c5cbd45394d426">adc_ctrl_t</a> *&#160;</td>
          <td class="paramname"><em>p_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___a_d_c___a_p_i.html#structadc__cfg__t">adc_cfg_t</a> const *const&#160;</td>
          <td class="paramname"><em>p_cfg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes the TSU_B module and applies configurations.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Module is ready for use. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>An input argument is invalid. </td></tr>
    <tr><td class="paramname">FSP_ERR_ALREADY_OPEN</td><td>The instance control structure has already been opened. </td></tr>
    <tr><td class="paramname">FSP_ERR_IRQ_BSP_DISABLED</td><td>A callback is provided, but the interrupt is not enabled. </td></tr>
    <tr><td class="paramname">FSP_ERR_INVALID_HW_CONDITION</td><td>Calibration data is invalid value, so TSU_B is in invalid condition. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga978c60f17aa8a2184140272e7588474e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga978c60f17aa8a2184140272e7588474e">&#9670;&nbsp;</a></span>R_TSU_B_ScanCfg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_TSU_B_ScanCfg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___a_d_c___a_p_i.html#gaff9488cd90102a90e5c5cbd45394d426">adc_ctrl_t</a> *&#160;</td>
          <td class="paramname"><em>p_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void const *const&#160;</td>
          <td class="paramname"><em>p_channel_cfg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="group___a_d_c___a_p_i.html#a44289d7822720544751eb22e3d7d38ea">adc_api_t::scanCfg</a> is not supported.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_ERR_UNSUPPORTED</td><td>Function not supported in this implementation. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga39f1ed741b28eab45f1712935f3883e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga39f1ed741b28eab45f1712935f3883e4">&#9670;&nbsp;</a></span>R_TSU_B_ScanStart()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_TSU_B_ScanStart </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___a_d_c___a_p_i.html#gaff9488cd90102a90e5c5cbd45394d426">adc_ctrl_t</a> *&#160;</td>
          <td class="paramname"><em>p_ctrl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Starts a software scan or enables the hardware trigger for a scan depending on how the triggers were configured in the R_TSU_B_Open call. If the unit was configured for ELC or external hardware triggering, then this function allows the trigger signal to get to the TSU_B unit. The function is not able to control the generation of the trigger itself. If the unit was configured for software triggering, then this function starts the software triggered scan.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Scan started (software trigger) or hardware triggers enabled. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>An input argument is invalid. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>TSU_B is not open. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_INITIALIZED</td><td>TSU_B is not initialized. </td></tr>
    <tr><td class="paramname">FSP_ERR_IN_USE</td><td>Another scan is still in progress (software trigger). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaef9ec32a8de4e4286e10f0c87efd450d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaef9ec32a8de4e4286e10f0c87efd450d">&#9670;&nbsp;</a></span>R_TSU_B_ScanGroupStart()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_TSU_B_ScanGroupStart </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___a_d_c___a_p_i.html#gaff9488cd90102a90e5c5cbd45394d426">adc_ctrl_t</a> *&#160;</td>
          <td class="paramname"><em>p_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___a_d_c___a_p_i.html#gaee17c30275c1c9376cc485a62ea121eb">adc_group_mask_t</a>&#160;</td>
          <td class="paramname"><em>group_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="group___a_d_c___a_p_i.html#aeae126b8a09e1ec34e8e3afb4a3344ff">adc_api_t::scanGroupStart</a> is not supported.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_ERR_UNSUPPORTED</td><td>Function not supported in this implementation. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga874a931c003bbe50ad12e6da4d87143f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga874a931c003bbe50ad12e6da4d87143f">&#9670;&nbsp;</a></span>R_TSU_B_ScanStop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_TSU_B_ScanStop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___a_d_c___a_p_i.html#gaff9488cd90102a90e5c5cbd45394d426">adc_ctrl_t</a> *&#160;</td>
          <td class="paramname"><em>p_ctrl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Disables the unit from being triggered by the hardware trigger (ELC or external) based on what type of trigger the unit was configured for in the R_TSU_B_Open function. Stopping a hardware triggered scan via this function does not abort an ongoing scan, but prevents the next scan from occurring.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Hardware triggers disabled. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>An input argument is invalid. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>TSU_B is not open. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_INITIALIZED</td><td>TSU_B is not initialized. </td></tr>
    <tr><td class="paramname">FSP_ERR_INVALID_MODE</td><td>Not valid for software triggers. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga15204e44f60f3f948c5b13983635742b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga15204e44f60f3f948c5b13983635742b">&#9670;&nbsp;</a></span>R_TSU_B_StatusGet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_TSU_B_StatusGet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___a_d_c___a_p_i.html#gaff9488cd90102a90e5c5cbd45394d426">adc_ctrl_t</a> *&#160;</td>
          <td class="paramname"><em>p_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___a_d_c___a_p_i.html#structadc__status__t">adc_status_t</a> *&#160;</td>
          <td class="paramname"><em>p_status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get current TSU_B status and store it in provided pointer p_status. Provides the status of any scan process that was started, including scans started by ELC or external triggers.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Module status stored in the provided pointer p_status </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>An input argument is invalid. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Unit is not open. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gada13a2179de16db6073f307afae1e612"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gada13a2179de16db6073f307afae1e612">&#9670;&nbsp;</a></span>R_TSU_B_Read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_TSU_B_Read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___a_d_c___a_p_i.html#gaff9488cd90102a90e5c5cbd45394d426">adc_ctrl_t</a> *&#160;</td>
          <td class="paramname"><em>p_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___a_d_c___a_p_i.html#gaafc4060027875f8fe46242b0656d7814">adc_channel_t</a> const&#160;</td>
          <td class="paramname"><em>reg_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *const&#160;</td>
          <td class="paramname"><em>p_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reads conversion results from a sensor.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Data read into provided p_data. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>An input argument is invalid. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>TSU_B is not open. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_INITIALIZED</td><td>TSU_B is not initialized. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga1b591622c668393be2a471acb5af0a09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1b591622c668393be2a471acb5af0a09">&#9670;&nbsp;</a></span>R_TSU_B_Read32()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_TSU_B_Read32 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___a_d_c___a_p_i.html#gaff9488cd90102a90e5c5cbd45394d426">adc_ctrl_t</a> *&#160;</td>
          <td class="paramname"><em>p_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___a_d_c___a_p_i.html#gaafc4060027875f8fe46242b0656d7814">adc_channel_t</a> const&#160;</td>
          <td class="paramname"><em>reg_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *const&#160;</td>
          <td class="paramname"><em>p_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="group___a_d_c___a_p_i.html#a81338d39975b7fe87d5e06c55a8c5dc5">adc_api_t::read32</a> is not supported.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_ERR_UNSUPPORTED</td><td>Function not supported in this implementation. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gab85e848ca49caaa929dd77dc8921e29f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab85e848ca49caaa929dd77dc8921e29f">&#9670;&nbsp;</a></span>R_TSU_B_Close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_TSU_B_Close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___a_d_c___a_p_i.html#gaff9488cd90102a90e5c5cbd45394d426">adc_ctrl_t</a> *&#160;</td>
          <td class="paramname"><em>p_ctrl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function ends any scan in progress, disables interrupts, and removes power to the A/D peripheral.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Module closed. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>An input argument is invalid. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Unit is not open. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga5e8b4241a1e5e499da79c839aad0628e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5e8b4241a1e5e499da79c839aad0628e">&#9670;&nbsp;</a></span>R_TSU_B_InfoGet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_TSU_B_InfoGet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___a_d_c___a_p_i.html#gaff9488cd90102a90e5c5cbd45394d426">adc_ctrl_t</a> *&#160;</td>
          <td class="paramname"><em>p_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___a_d_c___a_p_i.html#structadc__info__t">adc_info_t</a> *&#160;</td>
          <td class="paramname"><em>p_adc_info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the calibration data for the sensor.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Information stored in p_adc_info. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>An input argument is invalid. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>TSU_B is not open. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga11361111b88fa7e72cb9014d440c3ff1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga11361111b88fa7e72cb9014d440c3ff1">&#9670;&nbsp;</a></span>R_TSU_B_Calibrate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_TSU_B_Calibrate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___a_d_c___a_p_i.html#gaff9488cd90102a90e5c5cbd45394d426">adc_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void const *&#160;</td>
          <td class="paramname"><em>p_extend</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="group___a_d_c___a_p_i.html#a1020d90e58d3bf86cee2f46a62e62fc4">adc_api_t::calibrate</a> is not supported.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_ERR_UNSUPPORTED</td><td>Function not supported in this implementation. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gac01f0a25e022187d5a10913234c6dd8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac01f0a25e022187d5a10913234c6dd8e">&#9670;&nbsp;</a></span>R_TSU_B_OffsetSet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_TSU_B_OffsetSet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___a_d_c___a_p_i.html#gaff9488cd90102a90e5c5cbd45394d426">adc_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___a_d_c___a_p_i.html#gaafc4060027875f8fe46242b0656d7814">adc_channel_t</a> const&#160;</td>
          <td class="paramname"><em>reg_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="group___a_d_c___a_p_i.html#a305b2c2466cd88fdddf6134db542dc7e">adc_api_t::offsetSet</a> is not supported.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_ERR_UNSUPPORTED</td><td>Function not supported in this implementation. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gabfa2e53113bbd7e12dea5dabf227903c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabfa2e53113bbd7e12dea5dabf227903c">&#9670;&nbsp;</a></span>R_TSU_B_CallbackSet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_TSU_B_CallbackSet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___a_d_c___a_p_i.html#gaff9488cd90102a90e5c5cbd45394d426">adc_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_api_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(<a class="el" href="group___a_d_c___a_p_i.html#structadc__callback__args__t">adc_callback_args_t</a> *)&#160;</td>
          <td class="paramname"><em>p_callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void const *const&#160;</td>
          <td class="paramname"><em>p_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___a_d_c___a_p_i.html#structadc__callback__args__t">adc_callback_args_t</a> *const&#160;</td>
          <td class="paramname"><em>p_callback_memory</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Updates the user callback and has option of providing memory for callback structure. Implements <a class="el" href="group___a_d_c___a_p_i.html#a2cd8e8911dcf8c4c617fe62f185b4363">adc_api_t::callbackSet</a></p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Callback updated successfully. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>A required pointer is NULL. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>The control block has not been opened. </td></tr>
    <tr><td class="paramname">FSP_ERR_NO_CALLBACK_MEMORY</td><td>p_callback is non-secure and p_callback_memory is either secure or NULL. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga7b164d0defb1b364c993b138a3ca0524"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7b164d0defb1b364c993b138a3ca0524">&#9670;&nbsp;</a></span>R_TSU_B_CalculateTemperature()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_TSU_B_CalculateTemperature </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___a_d_c___a_p_i.html#gaff9488cd90102a90e5c5cbd45394d426">adc_ctrl_t</a> *&#160;</td>
          <td class="paramname"><em>p_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>temperature_code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *const&#160;</td>
          <td class="paramname"><em>p_temperature</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The value returned from the sensor can be converted into degrees Celsius.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Data calculate into provided p_temp. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>An input argument is invalid. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>TSU_B is not open. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_INITIALIZED</td><td>TSU_B is not initialized. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.7-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
        <li class="footer">FSP Release v3.1.0 User's Manual Copyright © (2025) Renesas Electronics Corporation. All Rights Reserved.</li>
  </ul>
</div>
</body>
</html>
